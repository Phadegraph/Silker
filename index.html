<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no,viewport-fit=cover"><title>Silk Master Pro</title><style>body{margin:0;background:#000;overflow:hidden;touch-action:none;font-family:sans-serif}canvas{display:block;position:fixed;top:0;left:0;width:100%;height:100%;z-index:1}#ui{position:absolute;top:20px;left:20px;z-index:100;pointer-events:none}.btn{background:rgba(20,20,20,.9);color:#0ff;padding:12px;margin-bottom:8px;border-radius:10px;text-align:center;width:150px;font-size:12px;border:1px solid #0ff;pointer-events:auto;font-weight:bold;cursor:pointer;transition:all .2s}#menu{display:none;background:rgba(0,0,0,.95);padding:15px;border-radius:15px;border:1px solid #444}input[type=range]{width:100%;height:20px;pointer-events:auto;cursor:pointer}label{color:#0ff;font-size:10px;display:block;margin:5px 0 2px;text-transform:uppercase}span{color:#fff;float:right}#C{position:fixed;bottom:25px;right:25px;width:45px;height:45px;border-radius:50%;border:3px solid #0ff;padding:0;overflow:hidden;cursor:pointer;display:none;z-index:101;pointer-events:auto;box-shadow:0 0 15px #0ff}</style></head><body><div id="ui"><div class="btn" onclick="toggleMenu()">MENU</div><div id="menu"><div class="btn" onclick="I()" style="color:#f55;border-color:#f55">RESET</div><div class="btn" id="A" onclick="toggleAuto()">AUTO: OFF</div><div class="btn" id="G" onclick="gh=!gh;this.innerHTML=`GHOST: ${gh?'ON':'OFF'}`">GHOST: OFF</div><div class="btn" id="M" onclick="initMic()">MIC: OFF</div><label>SYMMETRY: <span id="vY">6</span></label><input type="range" id="Y" min="2" max="12" value="6" oninput="vY.innerHTML=this.value"><label>DENSITY</label><input type="range" id="D" min="2" max="50" value="20"></div></div><input type="color" id="C" value="#00F0FF"><canvas id="c"></canvas><script>
let D=document,c=D.getElementById('c'),x=c.getContext('2d'),m=D.getElementById('menu'),mb=D.getElementById('M'),ab=D.getElementById('A'),cp=D.getElementById('C'),d=0,mx=0,my=0,lx=0,ly=0,t=0,vl=0,gh=0,auto=0,ac,an,fd,av=0,pt=0,k=[1,1,1,1];
const I=()=>{c.width=innerWidth;c.height=innerHeight;x.fillStyle="#000";x.fillRect(0,0,c.width,c.height)};
const toggleMenu=()=>{let s=m.style.display==='block'?'none':'block';m.style.display=s;cp.style.display=s};
const toggleAuto=()=>{auto=!auto;if(auto)k=k.map(()=>Math.random()*2+0.5);ab.innerHTML=`AUTO: ${auto?'ON':'OFF'}`;ab.style.color=auto?'#5f5':'#0ff'};
const initMic=async()=>{if(location.protocol!=='https:'&&location.hostname!=='localhost')return alert("Mic requires HTTPS (Deploy to GitHub/Netlify first).");if(!ac){try{ac=new(window.AudioContext||window.webkitAudioContext)();const s=await navigator.mediaDevices.getUserMedia({audio:true});an=ac.createAnalyser();ac.createMediaStreamSource(s).connect(an);an.fftSize=512;fd=new Uint8Array(an.frequencyBinCount);mb.innerHTML="MIC: ON";mb.style.color="#5f5"}catch(e){alert("Mic Denied")}}else{if(ac.state==='running'){ac.suspend();mb.innerHTML="MIC: OFF";mb.style.color="#0ff"}else{ac.resume();mb.innerHTML="MIC: ON";mb.style.color="#5f5"}}};
const H=h=>[parseInt(h.slice(1,3),16),parseInt(h.slice(3,5),16),parseInt(h.slice(5,7),16)];
const R=(px,py)=>{let s=12,den=D.getElementById('D').value,bc=H(cp.value),w=Math.max(0,1-vl*5),cl=bc.map(v=>Math.round(v+(255-v)*w));x.shadowBlur=vl*10;x.shadowColor=`rgb(${cl[0]},${cl[1]},${cl[2]})`;for(let j=0;j<s;j++){x.beginPath();x.strokeStyle=`rgba(${cl[0]},${cl[1]},${cl[2]},${0.04+j*0.01})`;let o=(j-6)*((+den+av)/12);x.moveTo(px+o-vl*2,py+o-vl*2);x.quadraticCurveTo(px+Math.sin(t+j)*15,py+Math.cos(t+j)*15,px+o,py+o);x.stroke()}x.shadowBlur=0};
const L=()=>{if(gh){x.globalCompositeOperation='source-over';x.fillStyle='rgba(0,0,0,0.02)';x.fillRect(0,0,c.width,c.height)}if(an&&ac.state==='running'){an.getByteFrequencyData(fd);let s=0,w=0,v=0;for(let i=0;i<fd.length;i++){s+=fd[i];w+=i*fd[i];v+=fd[i]}av=s/fd.length;pt=v>0?w/v/fd.length:0}if(auto){let r1=c.width/3,r2=c.height/3,sp=1+pt*10;mx=c.width/2+Math.cos(t*k[0]*sp)*r1*Math.sin(t*k[1]);my=c.height/2+Math.sin(t*k[2]*sp)*r2*Math.cos(t*k[3]);if(!d){lx+=(mx-lx)*0.05;ly+=(my-ly)*0.05}}if(d||auto||vl>.1){if(d){let dx=mx-lx,dy=my-ly;vl=Math.sqrt(dx*dx+dy*dy)*.04;lx+=dx*.05;ly+=dy*.05}else{vl=auto?2:vl*0.96}let sym=D.getElementById('Y').value;x.globalCompositeOperation='lighter';x.save();x.translate(c.width/2,c.height/2);let sx=lx-c.width/2,sy=ly-c.height/2,n=sym==2?1:sym;for(let i=0;i<n;i++){x.rotate(Math.PI*2/n);R(sx,sy);x.save();sym==2?x.scale(-1,1):x.scale(1,-1);R(sx,sy);x.restore()}x.restore()}t+=.02;requestAnimationFrame(L)};
const E=e=>{let t=e.touches?e.touches[0]:e;mx=t.clientX;my=t.clientY};c.onmousedown=e=>{d=1;E(e);lx=mx;ly=my};c.ontouchstart=e=>{d=1;E(e);lx=mx;ly=my};window.onmousemove=e=>{if(d)E(e)};c.ontouchmove=e=>{e.preventDefault();E(e)};window.onmouseup=c.ontouchend=()=>d=0;window.onresize=I;I();L();
</script></body></html>
